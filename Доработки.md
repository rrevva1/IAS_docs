Доработка модуля "Учет ТС" и смежных разделов

**Статус реализации пунктов:** [docs/planning/ДОРАБОТКИ_СТАТУС.md](docs/planning/ДОРАБОТКИ_СТАТУС.md).

---

1. Модуль "Учет ТС" (Основной интерфейс)
1.1. Навигация и разграничение по типам техники

Текущая проблема: Нет быстрого переключения между типами техники (как в ОУ с листами).

Предложение по реализации: Внедрить навигацию в виде "вкладок" или "сегментированных кнопок" над основной таблицей (гридом). Это заменит классические "хлебные крошки" в данном контексте.

Вариант дизайна: Горизонтальные кнопки: «Вся техника», «Системные блоки», «Мониторы», «Ноутбуки», «Принтеры» и т.д. Активная вкладка визуально выделяется.

Логика: При переключении вкладки таблица (AG-Grid) динамически фильтруется по выбранному типу.

1.2. Управление статусом и назначением техники

Требуется: Возможность массового или одиночного переназначения техники (смена ответственного, локации, статуса). Аналог "передать другому пользователю".

Предложение по реализации: Сделать это через модальное окно "Переместить/Переназначить", вызываемое из контекстного меню строки или через кнопку после выбора чекбокса.

Поля в модальном окне:

Пользователь (выпадающий список с поиском из справочника сотрудников).

Локация/Кабинет (автоподстановка или список).

Статус (выпадающий список: «Эксплуатируется», «Резерв», «Ремонт», «Списание»).

Результат: После сохранения в системе фиксируется, что техника перешла к новому ответственному лицу.

1.3. Настройка отображения таблицы (AG-Grid)

Требование: Гибкая настройка видимости колонок.

Варианты реализации:

Простой: Кнопка «Настроить колонки» над таблицей, открывающая список всех доступных полей с чекбоксами (Показать/Скрыть).

Продвинутый (как вариант): Использовать встроенное в AG-Grid перетаскивание колонок и управление видимостью через контекстное меню заголовка. Этого может быть достаточно.

Фильтры: Здесь вы упомянули "фильтры с поиском". В AG-Grid это обычно реализуется через строку поиска над таблицей (глобальный поиск по всем полям) или через индивидуальные фильтры в шапке каждой колонки (их нужно будет перевести на русский язык).

2. Карточка пользователя
Вопрос: Что должно быть в карточке?

Варианты реализации (от простого к сложному):

Минимальный (Просмотр): Модальное окно при клике на ФИО пользователя в любой таблице. Содержит контактные данные (Email, Телефон, Отдел, Должность) и список закрепленной за ним техники.
Расширенный (Управление): Отдельная страница "Профиль пользователя" (доступная из раздела "Пользователи"). Там есть основная информация и вкладки: "Закрепленная техника", "История перемещений", "Заявки пользователя".
Редактируемый: В этом же окне (если у текущего пользователя есть права) должна быть кнопка "Редактировать", позволяющая менять данные сотрудника или сразу переназначать его технику.
3. Добавление/Редактирование техники
3.1. Форма создания новой единицы техники

Требование 4.1 (Выбор пользователя): Поле «Ответственный пользователь» должно быть реализовано в виде комбобокса (выпадающий список + строка поиска), чтобы быстро находить сотрудника.

Требование 4.2 (Умная форма): Форма должна быть динамической (зависимые поля).

Логика работы:

Пользователь выбирает "Тип техники" (Системный блок, Ноутбук, Монитор и т.д.).
Ниже динамически подгружаются специфические для этого типа поля.
Пример:

Тип: Системный блок -> Поля: Процессор, Оперативная память, Тип накопителя (SSD/HDD), Объем диска.

Тип: Монитор -> Поля: Диагональ, Матрица, Разрешение, Интерфейсы (HDMI, VGA).

Тип: Ноутбук -> Объединяет поля СБ + Монитора + Батарея.

4. Журнал аудита
Исправление ошибок: Разобраться, почему новые заявки не попадают в журнал (вероятно, проблема в триггере БД или в логике логирования на бэкенде). Проверить интеграцию.

Доработка функционала: Что именно за "????". Предположу, что нужна фильтрация (по дате, по пользователю, по типу действия) или возможность просмотра "слепка" данных на момент изменения.

5. Работа с БД (Тестирование/Отладка)
Задача: Очистка тестовых данных в таблицах перед выкаткой на продуктив. Нужно составить скрипты для очистки таблиц (TRUNCATE или DELETE) с учетом каскадных связей (чтобы не сломать структуру).

6. AG-Grid (Таблицы)
Пагинация: Добавить опцию в настройках пагинации "Показывать все записи" (или -1), но дать предупреждение, что это может загружать систему при очень больших данных.

Высота окна: Настроить грид так, чтобы он занимал всю доступную высоту экрана (динамически через flex или vh единицы), оставляя место только для шапки и футера.

Локализация (Перевод): Подключить русскоязычную локаль для AG-Grid, чтобы фильтры, кнопки (Применить, Сбросить) и текст поиска были на русском.

Правка поля: В модуле "Учет ТС" переименовать колонку "Системный блок" в "Тип/Название техники", так как это более универсально.

7. Раздел "Пользователи"
UX/UI: При создании нового пользователя показывать понятный alert (или всплывающее уведомление) об успехе или ошибке операции.

Заявки: В карточке пользователя или в общем списке заявок подобрать удобный размер окна (высоту) таблицы с заявками.

Права доступа (RABC): Настроить видимость заявок:

Администратор, Оператор: Видят все заявки.

Обычный пользователь: Видит только заявки, созданные им (или где он указан как ответственный/исполнитель).

8. Общие доработки (UX)
Обратная связь: Добавить всплывающие уведомления (Toast/Alerts) на все CRUD-операции (создание, изменение, удаление ТС, заявок, пользователей). Уведомления должны быть зелеными (успех) и красными (ошибка).

9. Интерфейс "Мой профиль"
Текущий запрос: Сделать покрасивее и оформить связно.

Предложение по редизайну:

Разделить страницу на логические блоки в виде карточек.

Блок 1 (Аватар и основное): Фото (заглушка), ФИО крупно, Должность, Отдел.

Блок 2 (Контакты): Email, Телефон, Внутренний номер.

Блок 3 (Активы): Мини-таблица (или плитки) с техникой, закрепленной за пользователем (с возможностью перейти в полный список).

Блок 4 (Последние действия): Лента последних 5-10 действий пользователя в системе (вошел, создал заявку, изменил пароль).

Визуал: Использовать иконки, аккуратные тени и отступы для создания "воздуха" между элементами.
