# Чек-лист проверки функционала по модулям

Используйте этот список для ручной проверки после наполнения БД тестовыми данными. Отмечайте выполнение по мере прохождения.

---

## 1. Модуль «Пользователи» (UsersController)

- [ ] **Список пользователей** (`/index.php?r=users/index`) — отображается таблица; администратор видит всех, обычный пользователь — только себя (если реализовано).
- [ ] **Создание пользователя** — форма сохраняется, в БД появляется запись в `users` и при необходимости в `user_roles`.
- [ ] **Просмотр пользователя** — открывается карточка по ID.
- [ ] **Редактирование пользователя** — изменения сохраняются (ФИО, отдел, роль и т.д.).
- [ ] **Поиск/фильтрация** — при наличии фильтров результат корректный.

---

## 2. Модуль «Help Desk / Заявки» (TasksController)

- [ ] **Список заявок** (`/index.php?r=tasks/index`) — страница с AG Grid загружается, данные отображаются.
- [ ] **Создание заявки** — форма (тема, описание, приоритет, при необходимости привязка к оборудованию); после сохранения редирект и появление заявки в списке.
- [ ] **Просмотр заявки** — детальная страница с полями и историей.
- [ ] **Редактирование заявки** — изменение описания/комментария сохраняется.
- [ ] **Смена статуса** — действие «Изменить статус» (или аналог) меняет статус заявки.
- [ ] **Назначение исполнителя** — выбор пользователя-исполнителя сохраняется.
- [ ] **Вложения** — загрузка файла к заявке, отображение в списке вложений, скачивание/preview (если реализовано).
- [ ] **Связь заявка–оборудование** — при создании/редактировании можно привязать актив(ы); на карточке заявки отображается привязанная техника.
- [ ] **API для AG Grid** — `get-grid-data` возвращает JSON без ошибок; фильтрация/сортировка на клиенте работают (если используются).

---

## 3. Модуль «АРМ / Учёт ТС» (ArmController)

- [ ] **Список оборудования** (`/index.php?r=arm/index`) — страница с гридом загружается; данные по оборудованию (инв. номер, тип, пользователь, помещение и т.д.) отображаются.
- [ ] **Создание актива** — форма заполняется (инв. номер, наименование, локация, статус, ответственный); запись создаётся в `equipment`.
- [ ] **Просмотр актива** — карточка оборудования открывается по ID.
- [ ] **Редактирование актива** — изменения сохраняются; при необходимости обновляется история в `equip_history`.
- [ ] **Удаление/архивация** — действие «Архивировать» или «Удалить» (если есть) выполняется без ошибок.
- [ ] **API для грида** — `get-grid-data` возвращает данные для AG Grid (колонки по Основному учёту: ЦП, ОЗУ, Диск, Монитор, Имя ПК, IP, ОС и т.д., если реализовано).

---

## 4. Модуль «ПО и лицензии» (SoftwareController)

- [ ] **Список ПО** (`/index.php?r=software/index`) — отображаются записи из `software`.
- [ ] **Добавление ПО** — создаётся запись с названием, версией.
- [ ] **Лицензии** — привязка лицензий к ПО, отображение срока действия; при наличии — связь «оборудование ↔ установленное ПО» (`equipment_software`).

---

## 5. Модуль «Импорт» (ImportController)

- [ ] **Страница импорта** — открывается без ошибок.
- [ ] **Загрузка файла** (например, Основной учёт) — при наличии регламента парсинга загрузка выполняется; в `import_runs` и при ошибках в `import_errors` появляются записи.
- [ ] **Отображение результатов** — количество обработанных/ошибочных строк отображается корректно.

---

## 6. Модуль «Аудит» (AuditController)

- [ ] **Журнал аудита** (`/index.php?r=audit/index`) — список событий из `audit_events` отображается; фильтрация по дате/типу действия (если реализована) работает.

---

## 7. Общее

- [ ] **Вход в систему** — авторизация по логину/паролю выполняется; после входа доступны пункты меню согласно роли.
- [ ] **Выход** — кнопка выхода завершает сессию.
- [ ] **Разграничение доступа** — доступ к разделам «АРМ», «Пользователи» (полный список) и т.д. ограничен по ролям (администратор/оператор/пользователь) в соответствии с требованиями проекта.
- [ ] **Отсутствие критичных ошибок** — в логах приложения (`ias_uch_vnii/runtime/logs/`) нет фатальных ошибок при обходе перечисленных сценариев.

---

После прохождения чек-листа тестовые данные можно удалить по инструкции в `TEST_DATA_REGISTRY.md`.
