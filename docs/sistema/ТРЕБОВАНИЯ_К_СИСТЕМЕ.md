# Требования к системе

**Источник:** раздел 5 «Требования к системе» документа [TZ.md](../TZ.md). Итоговая редакция требований — в TZ.md; этот файл — выдержка для удобства ссылок.

## 5.1. Функциональные требования

#### 5.1.1. Управление пользователями, ролями и доступом
5.1.1.1. Система должна обеспечивать ведение учетных записей пользователей (создание, изменение, блокирование, разблокирование, деактивация).

5.1.1.2. Система должна обеспечивать аутентификацию пользователей перед предоставлением доступа к функциям и данным.

5.1.1.3. Система должна обеспечивать разграничение доступа на основе ролей.

5.1.1.4. Система должна обеспечивать назначение ролей пользователям и изменение назначений ролей.

5.1.1.5. Система должна обеспечивать запрет доступа к операциям и данным при отсутствии соответствующих прав.

5.1.1.6. Система должна обеспечивать ведение справочника ролей и возможность администрирования состава ролей и их наименований уполномоченными пользователями.

5.1.1.7. Система должна обеспечивать механизм восстановления доступа пользователя в рамках регламента (сброс учетных данных/пароля, выдача временного доступа) с фиксацией действия в аудите.

#### 5.1.2. Ведение нормативно-справочной информации
5.1.2.1. Система должна обеспечивать ведение справочников, необходимых для учета активов и заявок (перечень справочников определяется на этапе обследования и фиксируется в проектной документации).

5.1.2.2. Система должна обеспечивать контроль целостности ссылок между объектами учета и справочниками.

5.1.2.3. Система должна обеспечивать архивирование (логическое исключение из актуального набора) значений справочников при наличии ссылок на архивируемые значения.

5.1.2.4. Система должна обеспечивать ведение истории изменений значений справочников с фиксацией даты/времени, пользователя и состава изменений.

#### 5.1.3. Контур Help Desk (заявки)
5.1.3.1. Система должна обеспечивать регистрацию заявок пользователями с указанием обязательных атрибутов заявки (перечень обязательных атрибутов определяется на этапе обследования и фиксируется в проектной документации).

5.1.3.2. Система должна обеспечивать ведение справочника статусов заявок и управление жизненным циклом заявки через смену статуса.

5.1.3.3. Система должна обеспечивать назначение исполнителя заявки и снятие назначения (при наличии прав).

5.1.3.4. Система должна обеспечивать ведение комментариев по заявке с фиксацией автора и даты/времени внесения комментария.

5.1.3.5. Система должна обеспечивать ограничение видимости заявок на основе роли и правил доступа:

- для пользователей — доступ к собственным заявкам (если не установлены иные правила);
- для администраторов — доступ ко всем заявкам;
- для роли «оператор» — доступ определяется регламентом (подлежит уточнению на этапе обследования).

5.1.3.6. Система должна обеспечивать поиск и фильтрацию заявок по ключевым атрибутам (статус, автор, исполнитель, временные интервалы, текстовые поля) в пределах прав доступа.

5.1.3.7. Система должна обеспечивать хранение истории изменения ключевых атрибутов заявки (статус, исполнитель, основные поля) с фиксацией даты/времени и пользователя.

5.1.3.8. Система должна обеспечивать возможность удаления заявки только уполномоченными пользователями по регламентированной процедуре с фиксацией в аудите.

#### 5.1.4. Вложения (файлы) по заявкам
5.1.4.1. Система должна обеспечивать прикрепление одного или нескольких файлов к заявке при создании и/или редактировании заявки в пределах прав доступа.

5.1.4.2. Система должна обеспечивать хранение метаданных вложения (наименование, расширение/тип, размер, дата/время загрузки, пользователь-инициатор).

5.1.4.3. Система должна обеспечивать скачивание вложений только пользователями, имеющими право доступа к соответствующей заявке.

5.1.4.4. Система должна обеспечивать предпросмотр вложений только для типов файлов, разрешенных регламентом безопасности (перечень разрешенных типов определяется на этапе обследования и фиксируется в проектной документации).

5.1.4.5. Система должна обеспечивать запрет предпросмотра вложений в режиме «inline» для типов файлов, отнесенных к опасным (в том числе SVG), если иное не согласовано Заказчиком и не обеспечено контролируемое обезвреживание содержимого.

5.1.4.6. Система должна обеспечивать удаление вложений в пределах прав доступа с фиксацией операции в аудите.

5.1.4.7. Система должна обеспечивать проверку ограничений на размер и количество загружаемых файлов (значения ограничений определяются на этапе обследования и фиксируются в проектной документации).

#### 5.1.5. Контур учета активов (технических средств)
5.1.5.1. Система должна обеспечивать регистрацию активов с формированием карточки актива.

5.1.5.2. Система должна обеспечивать просмотр и изменение карточек активов в пределах прав доступа.

5.1.5.3. Система должна обеспечивать хранение обязательных атрибутов карточки актива (в том числе идентификаторов), перечень которых определяется на этапе обследования и фиксируется в проектной документации.

5.1.5.4. Система должна обеспечивать привязку актива к локации и возможность изменения локации актива.

5.1.5.5. Система должна обеспечивать закрепление актива за пользователем (ответственным) и снятие закрепления в пределах прав доступа.

5.1.5.6. Система должна обеспечивать учет эксплуатационного статуса актива и изменение статуса в рамках регламента.

5.1.5.7. Система должна обеспечивать ведение истории событий жизненного цикла актива (перемещение, закрепление/снятие, ремонт/обслуживание, списание — при наличии соответствующих регламентов) с фиксацией даты/времени, пользователя и содержания изменения.

5.1.5.8. Система должна обеспечивать возможность архивирования (вывода из актуального учета) карточки актива с сохранением истории и связей.

#### 5.1.6. Связь заявок с активами
5.1.6.1. Система должна обеспечивать возможность указания связанного актива в заявке (одного или нескольких активов — по настройке, определяемой на этапе обследования).

5.1.6.2. Система должна обеспечивать отображение в карточке актива связанных заявок в пределах прав доступа.

#### 5.1.7. Интерфейсы представления данных и совместимость с существующим фронтендом
5.1.7.1. Система должна обеспечивать предоставление данных по заявкам в структуре, поддерживаемой пользовательским интерфейсом табличного представления (в том числе поддержка режима совместимости с текущим контрактом для AG Grid, если такой режим утвержден Заказчиком).

5.1.7.2. Система должна обеспечивать операции изменения статуса, назначения исполнителя и изменения комментария заявки через прикладные интерфейсы с проверкой прав доступа и фиксацией в аудите.

5.1.7.3. Система должна обеспечивать получение перечня техники пользователя для отображения в контекстных представлениях (например, в деталях заявки) в пределах прав доступа.

Примечание: конкретные форматы API, перечни эндпоинтов и поля ответов подлежат фиксации в отдельной спецификации интерфейсов и включаются в комплект документации (раздел 7).

#### 5.1.8. Поиск, фильтрация, сортировка
5.1.8.1. Система должна обеспечивать поиск активов по идентифицирующим атрибутам (например: инвентарный номер, серийный номер, наименование) в пределах прав доступа.

5.1.8.2. Система должна обеспечивать фильтрацию перечня активов по локации, закреплению, статусам и справочникам.

5.1.8.3. Система должна обеспечивать поиск и фильтрацию по журналу аудита (раздел 5.1.10) в пределах прав доступа.

#### 5.1.9. Отчетность и экспорт
5.1.9.1. Система должна обеспечивать формирование отчетов по заявкам и активам по перечню, утвержденному на этапе обследования.

5.1.9.2. Система должна обеспечивать экспорт отчетов и выборок в форматы, согласованные с Заказчиком (например: табличные форматы), с учетом прав доступа.

5.1.9.3. Система должна обеспечивать формирование статистических показателей по заявкам (по пользователям, по исполнителям, по статусам, по периодам) в пределах прав доступа.

#### 5.1.10. Аудит и журналирование действий
5.1.10.1. Система должна обеспечивать ведение журнала аудита действий пользователей по операциям, влияющим на данные и доступ, включая минимум:

- операции управления пользователями и ролями;
- операции изменения заявок (создание, изменение статуса, назначение исполнителя, изменение ключевых полей, удаление);
- операции с вложениями (загрузка, удаление, скачивание/предпросмотр — по решению, фиксируемому в проектной документации);
- операции изменения карточек активов и их ключевых атрибутов.

5.1.10.2. Система должна обеспечивать фиксацию в аудите следующих атрибутов события: дата/время, пользователь (при наличии), тип операции, объект операции (тип и идентификатор), результат (успех/ошибка), а также технический контекст (например, источник запроса) в объеме, определенном проектной документацией.

5.1.10.3. Система должна обеспечивать неизменяемость записей журнала аудита в пределах правовой модели доступа, установленной Заказчиком.

#### 5.1.11. Импорт/миграция и начальное наполнение данных
5.1.11.1. Система должна обеспечивать возможность начального наполнения данных путем импорта по согласованным форматам (перечень форматов и правила импорта фиксируются в проектной документации).

5.1.11.2. Система должна обеспечивать формирование протокола импорта с указанием количества обработанных записей, количества ошибок и перечня ошибок.

5.1.11.3. Система должна обеспечивать возможность повторного выполнения процедур миграции/импорта без нарушения целостности данных в соответствии с согласованными правилами (идемпотентность или управляемая повторяемость — по проектному решению).

## 5.2. Нефункциональные требования

#### 5.2.1. Общие требования
5.2.1.1. Система должна обеспечивать хранение данных и отображение информации в кодировке UTF-8.

5.2.1.2. Система должна обеспечивать единообразие форматов дат и времени во всех интерфейсах и отчетах в соответствии с настройками, определенными Заказчиком.

5.2.1.3. Система должна обеспечивать ведение единого идентификатора записи для каждой сущности (заявка, пользователь, актив, вложение, событие аудита) и ссылочную целостность данных.

#### 5.2.2. Требования к производительности и масштабируемости
5.2.2.1. Система должна обеспечивать время формирования списка заявок (с фильтрами по статусу и периоду) не более 3 секунд для 95-го перцентиля запросов при нагрузке, установленной в программе и методике испытаний.

5.2.2.2. Система должна обеспечивать время открытия карточки заявки и отображения списка вложений не более 3 секунд для 95-го перцентиля запросов при нагрузке, установленной в программе и методике испытаний.

5.2.2.3. Система должна обеспечивать время формирования списка активов (с фильтрами по локации и статусу) не более 3 секунд для 95-го перцентиля запросов при нагрузке, установленной в программе и методике испытаний.

5.2.2.4. Система должна обеспечивать выполнение операций экспорта отчетов в пределах целевых значений, установленных в программе и методике испытаний; при превышении порогов длительности операция должна выполняться по регламенту, исключающему блокирование работы пользователей (регламент фиксируется в проектной документации).

5.2.2.5. Система должна обеспечивать возможность последующего увеличения объема хранимых данных и количества пользователей без изменения бизнес-логики Системы (путем масштабирования инфраструктуры в пределах проектных решений).

#### 5.2.3. Требования к совместимости и доступности
5.2.3.1. Система должна обеспечивать доступ пользователей через распространенные веб-браузеры, перечень которых утверждается Заказчиком на этапе обследования и фиксируется в проектной документации.

5.2.3.2. Система должна обеспечивать корректное функционирование при одновременной работе пользователей в количестве, установленном в программе и методике испытаний.

## 5.3. Требования к надежности
5.3.1. Система должна обеспечивать сохранность данных при штатном завершении работы и при нештатных ситуациях в пределах, определенных регламентами резервного копирования и восстановления.

5.3.2. Система должна обеспечивать резервное копирование данных (данные Системы и вложения) с периодичностью, установленной эксплуатационной документацией.

5.3.3. Система должна обеспечивать восстановление данных из резервной копии по регламентированной процедуре.

5.3.4. Система должна обеспечивать регистрацию ошибок и событий отказов с указанием времени, контекста и идентификатора пользователя (при наличии пользовательского контекста).

5.3.5. Система должна обеспечивать целевые показатели восстановления:

- **RPO** (допустимая потеря данных): не более 24 часов, если Заказчиком не установлено иное;
- **RTO** (допустимое время восстановления): не более 8 часов, если Заказчиком не установлено иное.

## 5.4. Требования к безопасности

#### 5.4.1. Аутентификация и учетные данные
5.4.1.1. Система должна обеспечивать аутентификацию пользователей перед предоставлением доступа к функциям и данным.

5.4.1.2. Система должна обеспечивать блокирование учетной записи при превышении допустимого числа неуспешных попыток входа (порог и окно времени устанавливаются Заказчиком и фиксируются в проектной документации).

5.4.1.3. Система должна обеспечивать ведение политики паролей (минимальная длина, сложность, срок действия — перечень параметров определяется на этапе обследования и фиксируется в проектной документации).

5.4.1.4. Система должна обеспечивать запрет хранения и отображения паролей в открытом виде, а также запрет вывода учетных данных в журналы регистрации событий.

#### 5.4.2. Разграничение доступа
5.4.2.1. Система должна обеспечивать разграничение доступа к данным и операциям на основе ролей.

5.4.2.2. Система должна обеспечивать возможность настройки ролей и прав доступа уполномоченными пользователями.

5.4.2.3. Система должна обеспечивать проверку прав доступа на серверной стороне для всех операций изменения данных, включая операции по заявкам, вложениям и активам.

#### 5.4.3. Защита данных и каналов связи
5.4.3.1. Система должна обеспечивать передачу учетных данных и пользовательских данных по защищенному каналу связи в среде эксплуатации Заказчика.

5.4.3.2. Система должна обеспечивать защиту от несанкционированного доступа к вложениям, включая проверку прав доступа к связанной заявке.

#### 5.4.4. Аудит действий
5.4.4.1. Система должна обеспечивать ведение журнала аудита действий пользователей в соответствии с требованиями 5.1.10.

5.4.4.2. Система должна обеспечивать поиск и фильтрацию записей аудита по времени, пользователю, типу операции и объекту изменения.

## 5.5. Требования к эксплуатации и сопровождению
5.5.1. Система должна обеспечивать ведение эксплуатационных журналов (аудит, события безопасности, ошибки) с регламентированной ротацией и хранением по срокам, утвержденным Заказчиком.

5.5.2. Система должна обеспечивать возможность администрирования справочников, ролей и прав доступа уполномоченными пользователями.

5.5.3. Система должна обеспечивать возможность выгрузки данных (экспорт) для целей резервного копирования и предоставления отчетности в пределах прав доступа.

5.5.4. Система должна обеспечивать наличие эксплуатационной документации, содержащей порядок запуска, остановки, резервного копирования, восстановления, а также регламент сопровождения пользователей.

5.5.5. Система должна обеспечивать возможность обновления Системы с сохранением данных и с контролем версий поставки в соответствии с регламентом внедрения.
