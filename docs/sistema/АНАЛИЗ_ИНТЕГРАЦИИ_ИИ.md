# Анализ интеграции средств ИИ в ИАС учёта технических средств

Документ предназначен для обсуждения: в какие модули системы целесообразно интегрировать средства искусственного интеллекта (ИИ/ML) и с какой целью. Решения по внедрению и объёму работ не заданы — фиксируются лишь направления и обоснование.

---

## 1. Контур Help Desk (заявки)

### 1.1. Классификация и категоризация заявок

**Цель:** по тексту описания заявки автоматически предлагать категорию (тип обращения), приоритет, при необходимости — тип оборудования.

**Обоснование:** снижение ручного ввода, единообразие категорий, ускорение маршрутизации. Текстовые поля заявки (описание, комментарии) уже есть в модели данных.

**Реализация (идея):** модель классификации (локальная или API) по историческим заявкам с разметкой; при создании/редактировании заявки — подсказка категории и приоритета. Итоговый выбор остаётся за пользователем.

**Риски/ограничения:** нужна обучающая выборка; смена формулировок в предметной области может требовать дообучения.

---

### 1.2. Рекомендация исполнителя

**Цель:** по типу заявки, истории исполнения и текущей загрузке предлагать кандидата-исполнителя.

**Обоснование:** ускорение назначения, более равномерная загрузка. Данные: `tasks` (исполнитель, статус, даты), связь с активами, при наличии — категория заявки.

**Реализация (идея):** правила или простая модель по истории «тип заявки / актив → успешные исполнители» плюс учёт открытых заявок по исполнителям. Вывод — список рекомендуемых с обоснованием (например, «часто исполнял подобные»).

**Риски/ограничения:** мало данных в начале эксплуатации; регламент назначения (только рекомендация, решение за диспетчером).

---

### 1.3. Семантический поиск и резюме по заявкам

**Цель:** поиск заявок по смыслу, а не только по ключевым словам; краткое резюме длинных описаний и цепочек комментариев.

**Обоснование:** требование 5.1.3.6 — поиск и фильтрация по текстовым полям; удобство при большом объёме текста в заявке.

**Реализация (идея):** эмбеддинги текста заявки/комментариев и поиск по сходству (векторный поиск в БД или внешнем индексе); генерация краткого резюме (одно-два предложения) для отображения в списке или детализации.

**Риски/ограничения:** объём данных, производительность индексации; при использовании внешних API — вопросы конфиденциальности текста заявок.

---

### 1.4. Подсказки по решению на основе похожих заявок

**Цель:** при просмотре заявки показывать релевантные закрытые заявки с решениями/комментариями.

**Обоснование:** ускорение решения повторяющихся инцидентов, распространение удачных практик.

**Реализация (идея):** поиск по сходству описания/категории/актива среди закрытых заявок; вывод списка ссылок и при необходимости краткого изложения решения.

**Риски/ограничения:** качество текста решений в комментариях; не подставлять решения автоматически — только как справочный материал.

---

## 2. Контур вложений (файлы по заявкам)

### 2.1. Извлечение текста и метаданных из документов

**Цель:** извлечение текста из PDF и изображений (в т. ч. сканов) для индексации и поиска по содержимому вложений.

**Обоснование:** поиск по заявкам «в том числе по тексту во вложениях»; возможность резюме вложения в карточке заявки.

**Реализация (идея):** OCR/извлечение текста при загрузке или по запросу; сохранение текста в метаданных или отдельной таблице; индексация для полнотекстового или семантического поиска.

**Риски/ограничения:** регламент безопасности по типам файлов (5.1.4.4–5.1.4.5); объём хранилища и время обработки; персональные данные в документах.

---

### 2.2. Классификация типа вложения

**Цель:** автоматическая пометка типа документа (скриншот, счёт, акт, инструкция и т.п.) для фильтрации и отображения.

**Обоснование:** удобство при большом количестве вложений; возможность автоматических правил (например, «акты во вложениях — в отчёт»).

**Реализация (идея):** классификатор по содержимому и/или по имени файла; результат — справочное значение или тег в метаданных.

**Риски/ограничения:** невысокая критичность; можно отложить или сделать опционально.

---

## 3. Контур учета активов (технических средств)

### 3.1. Нормализация наименований и сопоставление со справочниками

**Цель:** приведение вводимых наименований оборудования, комплектующих, характеристик к значениям справочников (`spr_parts`, `spr_chars`, наименования типов техники).

**Обоснование:** при импорте из ОУ и ручном вводе встречаются разночтения (см. регламент парсинга ОУ); единообразие улучшает отчётность и поиск.

**Реализация (идея):** при вводе/импорте — подсказка «вероятно имелось в виду: …» по справочнику (нечёткое сравнение строк или эмбеддинги); при импорте Excel — предложение маппинга значений ячеек на справочники.

**Риски/ограничения:** необходимо поддерживать актуальность справочников; не подменять решение пользователя при расхождениях.

---

### 3.2. Предсказание потребности в обслуживании / рисков выхода из строя

**Цель:** формирование списков активов-кандидатов на ТО, ремонт или замену по возрасту, истории ремонтов, гарантиям (при наличии данных).

**Обоснование:** контур закупок в SYSTEM_DESCRIPTION планируется как «формирование потребности на основе износа/ремонтов/рисков»; проактивное планирование снижает простои.

**Реализация (идея):** правила или простая модель по полям `equipment`, `equip_history` (ремонты, перемещения), срокам гарантии; вывод — отчёт/виджет «рекомендуется к обслуживанию / к замене» с обоснованием. Без требования больших объёмов данных на старте можно заложить только правила (возраст, истечение гарантии).

**Риски/ограничения:** качество и полнота истории событий; интерпретация как рекомендация, не как автоматическое списание или заказ.

---

## 4. Контур «ПО и лицензии»

### 4.1. Уведомления и приоритизация по истечению лицензий

**Цель:** не только «истекает через N дней», но и рекомендации по продлению или замене с учётом использования ПО на активах (если данные есть).

**Обоснование:** требование ТЗ — учёт сроков действия лицензий и уведомления; ИИ может помочь расставить приоритеты при большом количестве лицензий.

**Реализация (идея):** правила + при наличии данных по установкам (`equipment_software`) — ранжирование «критичность лицензии» (сколько активов затронуто, есть ли альтернативы в справочнике).

**Риски/ограничения:** на первом этапе достаточно регламентных уведомлений; ИИ — расширение, не замена.

---

### 4.2. Извлечение данных из документов лицензий (опционально)

**Цель:** из сканов/PDF лицензий извлекать даты, наименования ПО, при необходимости ключи (с учётом политики безопасности).

**Обоснование:** сокращение ручного ввода при массовом учёте лицензий.

**Риски/ограничения:** высокие требования к конфиденциальности и согласию на обработку; предпочтительно локальная обработка или отказ от извлечения ключей.

---

## 5. Контур аналитики и отчётности

### 5.1. Естественно-языковые запросы к отчётам

**Цель:** формулировка запроса текстом («заявки по подразделению X за последний квартал», «активы с истекающей гарантией») с формированием фильтров и отчёта.

**Обоснование:** требование 5.1.9 — отчёты по заявкам и активам; снижение порога входа для пользователей, не знакомых с конструктором отчётов.

**Реализация (идея):** парсинг намерения и сущностей из фразы → маппинг на поля БД и фильтры → выполнение запроса и вывод таблицы/графика. Можно начать с ограниченного набора шаблонов запросов.

**Риски/ограничения:** объём прав доступа (выдача только разрешённых данных); контроль формулировок и интерпретации.

---

### 5.2. Выявление аномалий в показателях

**Цель:** выделение выбросов по количеству заявок, по активам (резкий рост обращений, «выпадающие» подразделения) для внимания руководителя.

**Обоснование:** аналитический контур уже предусматривает дашборды и KPI; аномалии дополняют описательную аналитику.

**Реализация (идея):** простые пороговые правила или лёгкая модель (например, отклонение от скользящего среднего по заявкам за период); уведомление или виджет «требует внимания».

**Риски/ограничения:** избегать излишних срабатываний; явно обозначать, что это подсказка, а не диагноз.

---

## 6. Контур аудита и безопасности

### 6.1. Анализ аномального поведения пользователей

**Цель:** выявление необычных паттернов доступа (массовое скачивание, смена прав, входы в нехарактерное время) для последующей проверки.

**Обоснование:** требование 5.1.10 — журнал аудита; усиление контроля без замены регламентов.

**Реализация (идея):** анализ потока событий из `audit_events` (частота, типы операций, объекты); флаги «требует проверки» для уполномоченных ролей. Без автоматических блокировок на первом этапе.

**Риски/ограничения:** ложные срабатывания; чёткое разграничение: ИИ только помечает, решение принимает человек.

---

## 7. Импорт данных (Основной учёт, Excel)

### 7.1. Подсказки маппинга при импорте

**Цель:** при загрузке Excel/CSV предложить соответствие столбцов файла полям БД и справочникам по заголовкам и примерам значений.

**Обоснование:** в проекте уже есть регламент парсинга ОУ и маппинг колонок; при новых форматах или смене структуры листа маппинг трудоёмок.

**Реализация (идея):** сопоставление заголовков и выборочных значений с именами полей и справочниками (эвристики + при необходимости эмбеддинги); пользователь подтверждает или правит маппинг.

**Риски/ограничения:** регламент парсинга остаётся источником истины; ИИ только помощник при первичной настройке.

---

### 7.2. Обработка нестандартных и «грязных» значений

**Цель:** распознавание неоднозначных ячеек (например, столбец «Отдел» со смесью статусов карточки и названий отделов по РЕГЛАМЕНТ_ПАРСИНГА_ОУ_ТЕСТ) с подсказкой категории или предупреждением.

**Обоснование:** снижение ручной разметки и количества ошибок импорта.

**Реализация (идея):** классификация значений по известным спискам (статусы карточки vs отделы); помечение строк «не уверен» для ручной проверки.

**Риски/ограничения:** регламент не подменяется; спорные случаи всегда на утверждении пользователя.

---

## 8. Сводная таблица направлений

| Модуль / контур        | Направление ИИ                                      | Цель для пользователя / системы      | Приоритет обсуждения |
|------------------------|-----------------------------------------------------|--------------------------------------|----------------------|
| Help Desk              | Классификация заявок (категория, приоритет)         | Единообразие, скорость ввода          | Высокий              |
| Help Desk              | Рекомендация исполнителя                            | Равномерная загрузка, быстрее назначение | Средний          |
| Help Desk              | Семантический поиск, резюме текста                  | Удобный поиск, обзор длинных заявок   | Средний              |
| Help Desk              | Похожие заявки и подсказки по решению                | Повторное использование решений      | Средний              |
| Вложения               | Извлечение текста (OCR), индексация                 | Поиск по содержимому вложений         | Средний              |
| Вложения               | Классификация типа документа                        | Фильтрация, отчёты                    | Низкий               |
| Активы                 | Нормализация наименований, маппинг на справочники    | Качество данных, импорт               | Высокий              |
| Активы                 | Рекомендации по ТО / замене (по истории, гарантии)   | Планирование закупок и обслуживания   | Средний              |
| ПО и лицензии          | Приоритизация уведомлений, критичность лицензий      | Фокус на важном                       | Низкий               |
| Аналитика              | Запросы на естественном языке                        | Доступность отчётов                   | Средний              |
| Аналитика              | Аномалии в показателях                              | Раннее внимание к отклонениям         | Низкий               |
| Аудит                  | Аномальное поведение пользователей                  | Безопасность                          | Средний              |
| Импорт                 | Подсказки маппинга столбцов                          | Ускорение настройки загрузки           | Высокий              |
| Импорт                 | Классификация «грязных» значений (ОУ)               | Меньше ошибок, меньше ручной разметки | Средний              |

---

## 9. Рекомендации по подходу к внедрению

1. **Не заменять регламенты и решения пользователя.** ИИ даёт подсказки и рекомендации; финальное действие (категория заявки, исполнитель, маппинг, трактовка аномалии) остаётся за человеком и зафиксированными правилами.

2. **Учитывать конфиденциальность.** Тексты заявок, вложения, журнал аудита могут содержать персональные и служебные данные. Предпочтительно локальное развёртывание моделей или использование API с соблюдением политики предприятия.

3. **Начинать с измеримых и ограниченных сценариев.** Например: классификация заявок по историческим данным, подсказки маппинга при импорте, нормализация наименований по справочникам. Затем расширять на семантический поиск и рекомендации исполнителя.

4. **Фиксировать допущения в ТЗ.** При включении функций ИИ в ТЗ указывать: назначение (подсказка/рекомендация/автоматическая метка), границы применения, необходимость обучения/дообучения и источники данных, требования к конфиденциальности и размещению.

5. **Стек.** ТЗ задаёт PHP/Yii2 и PostgreSQL. Интеграция ИИ может быть: вызов локального сервиса (Python/API), вызов внешнего API (с учётом п. 2), либо пре-/пост-обработка скриптами при импорте. Архитектурно — отдельный сервис или очередь задач, не размывая границы монолита.

---

*Документ подготовлен для обсуждения. Окончательный перечень направлений и приоритетов подлежит согласованию с заказчиком и фиксации в проектной документации.*
