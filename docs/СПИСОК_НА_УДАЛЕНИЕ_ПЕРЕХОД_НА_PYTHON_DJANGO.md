# Список артефактов, связанных с переходом/анализом перехода на Python/Django

Документ составлен с целью удаления или правки всего, что относится к попытке перехода на стек Python/Django. Решение: **остаёмся на PHP (Yii2)**.

---

## 1. Каталоги и код — удалить целиком

### 1.1. Django-проект внутри PHP-приложения

| Путь | Описание |
|------|----------|
| **ias_uch_vnii/helpdesk_ias_py/** | Целиком каталог: Django-проект «перенос IAS на Python/Django», приложения (users, tasks, assets, software, audit, core, reports, procurement), миграции, management-команды переноса данных, шаблоны, конфиг (settings, urls, wsgi, asgi), requirements.txt. |

После удаления в `ias_uch_vnii/` не должно остаться папки `helpdesk_ias_py`.

### 1.2. Документация переноса на Python (отдельный каталог в корне TZ)

| Путь | Описание |
|------|----------|
| **ias_py/** | Целиком каталог: только документация (docs/guides, docs/reports, docs/technical) по фазам переноса, ПЛАН.md, pr_perenos.md, PHASE1–5, Аудит_ИАС.md, ASSETS_DOMAIN и т.д. Исходного кода Django здесь нет — дубликаты/копии документов из helpdesk_ias_py/docs. |

---

## 2. Документы с упоминаниями Python/Django — правка (не удалять файл)

Имеет смысл убрать или переформулировать фразы про Python/Django и перенос, оставив содержание про PHP и текущую БД.

| Файл | Что править |
|------|-------------|
| **TZ.md** | П. 1.4.1: сейчас «реализация серверной части … на языке программирования Python» — заменить на PHP (или «PHP или иное по решению Заказчика») в соответствии с решением остаться на PHP. |
| **SYSTEM_DESCRIPTION.md** | Убрать/переписать: упоминания «перенос на Python/Django», «ias_py/docs», «Состояние B (target / перенос)» на Python 3.11+ и Django 5.x; «helpdesk_ias_py/helpdesk_ias/**»; ссылки на `ias_py/docs/technical/PHASE1_RBAC_MATRIX.md` и др. Описание оставить в контексте только PHP/Yii2 и текущей/целевой БД (без Django). |
| **ПЛАН_РЕАЛИЗАЦИИ.md** | Уже зафиксировано решение о сохранении PHP + Yii2 (п. 1.2, примечание про п. 1.4.1 ТЗ). При желании кратко добавить формулировку вида «перенос на Python/Django не планируется; все артефакты переноса удалены или выведены из актуального контекста». Упоминания «скрипты Python для загрузки из Excel» (п. 3.12) — заменить на «скрипты загрузки (PHP или утилиты по решению)» при отказе от Python-скриптов. |
| **DB_ias.md** | Упоминания Django: таблицы auth_*, django_* (описание v2), «подключать приложения (Django, API)», «таблицы auth_* и django_*». Оставить только констатацию: «в дампе ias_vnii_db присутствуют таблицы Django; для эксплуатации на PHP они не используются и при создании целевой БД (ias_uch_db_test) не включаются». Ссылку на `ias_py/docs/technical/ASSETS_DOMAIN.md` и `PHASE1_GAPS.md` удалить или заменить на локальные документы (например, docs/), если те файлы удаляются. |
| **docs/АНАЛИЗ_ДАМПА_И_ЗАГРУЗКА_ДАННЫХ.md** | Убрать/переформулировать: «следы Django», «раздел про Django», «реализовать … предпочтительно Python», ссылки на `ias_py/docs/...` (ASSETS_DOMAIN, pr_perenos). Загрузчик описать как «скрипт (PHP или иной по решению)» или оставить только ссылку на шаблон без привязки к Python. |
| **docs/СРАВНЕНИЕ_ВЕРСИЙ_БД.md** | Упоминания «Django / auth», «таблицы Django», «Django-приложение», «миграции» в контексте перехода на другой стек — оставить только техническое описание: «в ias_vnii_db есть таблицы Django; для финальной схемы (PHP) они не используются». |
| **pr.md** | Если есть ссылки на Python-скрипты или Django — заменить на нейтральные («скрипты миграции/импорта») или PHP. |

---

## 3. Дамп БД ias_vnii_db и таблицы Django

| Объект | Действие |
|--------|----------|
| **db/ias_vnii_db.sql** | Файл не удалять: используется как один из вариантов схемы (v2) и источник описания. В документации явно указать: «таблицы auth_*, django_* в этом дампе относятся к варианту с Django и при работе на PHP не используются; целевая схема — ias_uch_db_test без Django-таблиц». При необходимости можно подготовить отдельный «очищенный» дамп без auth_*/django_* для справки. |

Отдельно удалять из репозитория дамп не обязательно — достаточно зафиксировать в документации, что для PHP берётся схема ias_uch_db_test, а не ias_vnii_db с Django.

---

## 4. Скрипты Python в scripts/ (утилиты, не Django)

| Файл | Связь с переходом | Рекомендация |
|------|-------------------|--------------|
| **scripts/load_osnovnoy_uchot.py** | Шаблон загрузки данных из «Основной Учет.xlsx» в БД; написан на Python (pandas, openpyxl, psycopg2). К переносу на Django относится только тем, что это Python. | **Опционально:** удалить, если решено все утилиты вести на PHP; либо оставить как вспомогательный скрипт до появления PHP-реализации импорта. |
| **scripts/inspect_osnovnoy_uchot.py** | Утилита анализа/просмотра Excel (Python). | Аналогично: удалить или оставить до появления аналога на PHP. |

Оба файла не входят в Django-проект и не обязательны к удалению вместе с helpdesk_ias_py; решение — по желанию (только очистка от «перехода на Python» или полный отказ от Python-скриптов в проекте).

---

## 5. Сторонние/внешние упоминания (можно не трогать)

| Где | Что |
|-----|-----|
| **ias_uch_vnii/web/ag-grid-community/README.md** | В описании AG Grid упоминается логотип/поддержка Python как одного из фреймворков сообщества. Не относится к решению «остаёмся на PHP». Файл можно не менять. |

---

## 6. Краткий чек-лист удаления/правок

- [x] Каталоги **ias_uch_vnii/helpdesk_ias_py/** и **ias_py/** перемещены из проекта (выполнено пользователем).
- [x] В **TZ.md** п. 1.4.1: заменён Python на PHP (Yii2, PostgreSQL).
- [x] В **SYSTEM_DESCRIPTION.md**: убрано описание «Состояние B», ссылки на ias_py / helpdesk_ias_py / Django; описание приведено к контексту PHP/Yii2.
- [x] В **ПЛАН_РЕАЛИЗАЦИИ.md**: зафиксировано, что перенос на Django не планируется; упоминания скриптов загрузки переформулированы на PHP/утилиты по решению.
- [x] В **DB_ias.md**: убраны ссылки на ias_py; зафиксировано, что таблицы auth_*/django_* не используются при работе на PHP.
- [x] В **docs/АНАЛИЗ_ДАМПА_И_ЗАГРУЗКА_ДАННЫХ.md**: убраны ссылки на ias_py и предписание «Python» для загрузчика.
- [x] В **docs/СРАВНЕНИЕ_ВЕРСИЙ_БД.md**: формулировки про Django-таблицы заменены на «при работе на PHP не используются».
- [x] В **pr.md**: формулировка про скрипты заменена на «PHP или иные по решению».
- [x] По решению: удалить **scripts/load_osnovnoy_uchot.py** и **scripts/inspect_osnovnoy_uchot.py** (выполнено).
- [x] В документации зафиксировано: **db/ias_vnii_db.sql** не удалять; таблицы auth_*/django_* в нём при работе на PHP не используются.

После выполнения списка в проекте не остаётся актуальных артефактов перехода на Python/Django; описание и план ориентированы на стек PHP + Yii2 + PostgreSQL.

---

## 7. Неиспользуемые и системные файлы (удалить или игнорировать)

Файлы и каталоги, не связанные с переходом на Python/Django: временные, артефакты IDE, сгенерированные и неиспользуемые в коде/документации.

### 7.1. Рекомендуется удалить

| Путь | Описание |
|------|----------|
| **xlsx_extract/** | Распакованное содержимое xlsx (Excel — ZIP с XML). Временный/служебный каталог, в документации и скриптах не используется. |
| **book.xlsx**, **book.zip** | Файлы в корне TZ. В коде и документации не упоминаются (источник данных — «Основной Учет.xlsx»). Удалить, если это тестовые/устаревшие копии. |
| **ias_uch_vnii/.metadata/** | Настройки Eclipse IDE (`.plugins/org.eclipse.core.runtime/.settings/`). Не нужны для сборки и работы приложения. |
| **scripts/RunPgSqlFile.class** | Скомпилированный Java-класс. Восстанавливается из `RunPgSqlFile.java`; в скриптах `*.cmd` используется `psql`, не Java. Имеет смысл добавить `*.class` в `.gitignore` и не хранить в репозитории. |

### 7.2. По решению (демо/учебные артефакты Yii2)

| Путь | Описание |
|------|----------|
| **ias_uch_vnii/commands/HelloController.php** | Демо-команда Yii2 по умолчанию. Удалить при желании избавиться от неиспользуемого кода. |
| **ias_uch_vnii/views/site/say.php** | Демо-страница (action `site/say`). Удалить при отказе от демо-страниц. |
| **ias_uch_vnii/views/site/rebbe.php** | Демо-страница «РЕББЕ» (указана в меню в `main.php`). Удалять только вместе с пунктом меню и action в `SiteController`. |

### 7.3. Не удалять

| Путь | Примечание |
|------|------------|
| **Основной Учет.xlsx** | Используется в документации и как источник данных для загрузки; упоминается в `docs/`, `ПЛАН_РЕАЛИЗАЦИИ.md`, скриптах. |
| **ias_uch_vnii/web/index-test.php** | Точка входа для функциональных тестов (Codeception); оставить для тестов. |
| **scripts/RunPgSqlFile.java** | Утилита для выполнения SQL через JDBC; при необходимости можно оставить (опционально удалить при отказе от Java-утилит). |

### 7.4. Рекомендации для .gitignore

При необходимости добавить в корневой или локальный `.gitignore`:

- `**/.metadata/` — артефакты Eclipse
- `**/*.class` — скомпилированные Java-файлы
- `xlsx_extract/` — если каталог создаётся автоматически при работе с xlsx

### 7.5. Чек-лист по неиспользуемым и системным файлам

- [x] Удалить каталог **xlsx_extract/** (если не нужен для отладки).
- [x] По решению: удалить **book.xlsx** и **book.zip** (если не используются).
- [x] Удалить **ias_uch_vnii/.metadata/**.
- [x] Удалить **scripts/RunPgSqlFile.class** и при необходимости добавить `*.class` в `.gitignore`.
- [x] По решению: удалить демо-артефакты Yii2 (HelloController, say.php, rebbe.php + пункт меню и action).
