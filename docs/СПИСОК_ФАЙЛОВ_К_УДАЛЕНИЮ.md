# Список служебных и неиспользуемых файлов к удалению

Документ составлен для очистки репозитория от служебных артефактов и файлов, не используемых в работе приложения.

**Выполнено:** удалены служебные документы `docs/ОТЧЕТ_ВЕРСИЯ_ДОМАШНЯЯ_МАШИНА.md`, `docs/РАЗНИЦА_РЕАЛИЗАЦИИ_TZ_vs_IAS_VNIIC.md`. Ранее: служебные macOS (`._*`) вне `.git`, `current_db_schema.sql`, `scripts/RunPgSqlFile.class`, каталог `ias_uch_vnii/helpdesk_ias_py/`, служебные файлы в `ias_uch_vnii/.cursor/` (`._*`).

---

## 1. Служебные файлы macOS (AppleDouble / resource fork)

Файлы вида `._*` создаются macOS при копировании на не-HFS тома (в т.ч. в репозиторий). В `.gitignore` уже указано `._*` и `**/._*` — их можно безопасно удалить из рабочей копии (они не должны попадать в коммиты).

**Расположение:** по всему дереву, в том числе:
- корень: `._.gitattributes`, `._.gitignore`, `._*` для каждого файла/папки в корне;
- `docs/`: по одному `._*` на каждый .md;
- `scripts/`: `._create_and_restore_ias_vniic.sh`, `._create_ias_vniic.sql`, `._load_ou_test_20rows.py`, `._RunPgSqlFile.class`, `._run_ias_uch_vnii.cmd`, `._setup_ias_uch_vnii_app.cmd`;
- `ias_uch_vnii/`: `._*` для каталогов и файлов (`.cursor`, `composer.json`, `config`, и т.д.);
- `db/`: `._IAS_VNIIC_dump.sql`;
- `git/`: все `._*` внутри `.git` (при желании можно не трогать, чтобы не задевать служебные файлы Git).

**Рекомендация:** выполнить в корне проекта (PowerShell):
```powershell
Get-ChildItem -Path . -Recurse -Force -Filter "._*" | Remove-Item -Force
```
Либо на macOS/Linux: `find . -name '._*' -delete`

---

## 2. Временные / сгенерированные артефакты (можно удалять локально)

| Файл / каталог | Назначение | Рекомендация |
|----------------|------------|--------------|
| `current_db_schema.sql` (корень) | Выгрузка схемы БД для сравнения с дампом (результат `pg_dump --schema-only` или скрипта сравнения). | Удалить из репозитория; при необходимости генерировать заново по инструкции из `docs/СРАВНЕНИЕ_ДАМП_И_БД.md`. |
| `scripts/export_current_schema_for_compare.sql` | Скрипт для вывода списка таблиц/столбцов в `current_schema.txt` (для сравнения). | **Оставить** — это скрипт, а не артефакт. Не удалять. |
| `ias_uch_vnii/runtime/*` (логи, кэш) | Сгенерированные логи и кэш приложения. | Уже в `.gitignore`. При наличии в репозитории — удалить и не коммитить. |
| `ias_uch_vnii/web/assets/*` | Сгенерированные ассеты (компиляция CSS/JS). | Уже в `.gitignore`. При наличии — удалить и не коммитить. |
| `ias_uch_vnii/helpdesk_ias_py/helpdesk_ias/logs/app.log` | Лог Django-приложения (helpdesk_ias_py). | Служебный лог; можно удалить или добавить `helpdesk_ias_py/**/logs/` в `.gitignore`. |

---

## 3. Потенциально неиспользуемые файлы (решать по необходимости)

| Файл / каталог | Описание | Рекомендация |
|----------------|----------|--------------|
| `scripts/RunPgSqlFile.class` | Скомпилированный Java-класс. В коде и документации ссылок не найдено. | Удалить, если запуск SQL через Java больше не используется. |
| `scripts/load_ou_test_20rows.py` | Скрипт загрузки 20 строк из ОУ_тест.xlsx в БД. Зависит от `ОУ_тест.xlsx` и регламента парсинга. | Оставить, если планируется импорт из Excel; иначе можно вынести в `tools/` или удалить. |
| `ias_uch_vnii/helpdesk_ias_py/` | Отдельный Django-проект (Help Desk на Python). Основное приложение — Yii2 в `ias_uch_vnii`. | Если проект не используется и не планируется к интеграции — можно удалить каталог целиком (предварительно убедиться, что на него нет ссылок в основном приложении). |
| `ias_uch_vnii/.cursor/` | Настройки/инструкции Cursor для подпапки. Содержит `isntructions1.mdc` (опечатка в имени). | Можно оставить только при необходимости локальных правил для `ias_uch_vnii`. Файл `._rules` (бинарный) и `._isntructions1.mdc` — служебные/дубликаты, их можно удалить. |

---

## 4. Дампы и SQL в корне (на усмотрение)

| Файл | Описание | Рекомендация |
|------|----------|--------------|
| `ias_vniic_14_02_26.sql` | Эталонный дамп БД (домашняя машина, 14.02.2026). Упоминается в `docs/ЭТАЛОН_БД.md`, `docs/СРАВНЕНИЕ_ДАМП_И_БД.md`, `tests/LOAD_TEST_DATA_FROM_DUMP.md`, в представлении `migrate-required.php`. | **Оставить** — используется как эталон и для восстановления окружения. |
| `current_db_schema.sql` | Текущая выгрузка схемы (артефакт сравнения). | Удалить из репозитория (см. п. 2). |

---

## 5. Документы и офисные файлы в корне

В корне присутствуют файлы с русскими именами (в списке git status и при просмотре каталога могут отображаться с искажённой кодировкой): `.doc`, `.xlsx`, `.txt`, `.docx`, `.md`. Это, как правило, рабочие или проектные документы (ТЗ, планы, отчёты), а не часть кода.

- Если такие файлы не нужны в репозитории — их можно не коммитить или перенести в `docs/` и зафиксировать в репозитории под нормализованными именами.
- Удалять их из репозитория имеет смысл только после согласования с командой (чтобы не потерять нужные черновики).

В данный список на удаление они **не** включены; при желании их можно перечислить отдельно по именам после проверки кодировки.

---

## 6. Краткая сводка действий

1. **Безопасно удалить везде:** все файлы `._*` (AppleDouble).
2. **Удалить из репозитория (если закоммичены):** `current_db_schema.sql`, логи `runtime/`, `web/assets/`, при необходимости `helpdesk_ias_py/.../logs/app.log`.
3. **По решению команды:** `scripts/RunPgSqlFile.class`; каталог `ias_uch_vnii/helpdesk_ias_py` целиком, если не используется; лишние файлы в `ias_uch_vnii/.cursor/` (в т.ч. бинарные `._*`).
4. **Оставить:** `ias_vniic_14_02_26.sql`, `scripts/export_current_schema_for_compare.sql`, тестовые SQL в `tests/`, скрипты в `scripts/` (кроме `RunPgSqlFile.class` при решении об удалении).

После удаления при необходимости обновить `.gitignore` (например, добавить `current_db_schema.sql`), чтобы артефакты не попадали в коммиты снова.

---

## 7. Неиспользуемое или устаревшее (перед удалением — уточнить)

Перед удалением следующих файлов/каталогов стоит подтвердить, что они не нужны:

| Что | Почему может быть лишним | Вопрос |
|-----|---------------------------|--------|
| **`scripts/load_ou_test_20rows.py`** | Скрипт загрузки 20 строк из Excel (`ОУ_тест.xlsx`) в БД. Файла `ОУ_тест.xlsx` в корне проекта нет; в коде и доке на этот скрипт ссылок не найдено. | Планируется ли импорт из Excel по регламенту `docs/РЕГЛАМЕНТ_ПАРСИНГА_ОУ_ТЕСТ.md`? Если нет — можно удалить скрипт и при необходимости сам регламент. |
| **`ias_uch_vnii/.cursor/isntructions1.mdc`** | Локальные инструкции для агента (опечатка в имени: «isntructions»). Часть дублирует общие правила; структура проекта и ссылка на Yii2 guide. | Нужны ли отдельные инструкции именно для `ias_uch_vnii`, или достаточно правил в корне `.cursor/rules/project-rules.mdc`? Если достаточно — можно удалить. |
| **`ias_uch_vnii/vagrant/`** и **`ias_uch_vnii/Vagrantfile`** | Конфигурация Vagrant для развёртывания. В документации упоминаются, но не как основной способ запуска. | Используется ли сейчас разработка/тест через Vagrant? Если нет — можно удалить `vagrant/` и `Vagrantfile`. |
| **`ias_uch_vnii/docker-compose.yml`** | Удалён: вся конфигурация Docker перенесена в корневую папку **[docker/](../docker/README.md)**. | — |
